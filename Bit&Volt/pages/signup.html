<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Crear Cuenta</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="icon" type="logo" href="/assets/img-logos/pestana.png" />

    <link rel="stylesheet" href="css/signup.css">
</head>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top shadow-sm">
    <a class="navbar-brand ms-2" href="#">
        <img src="/assets/img-logos/logo-blanco.png" alt="Bit & Volt" style="height:38px;">
    </a>

    <button class="navbar-toggler me-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSignup">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarSignup">
        <ul class="navbar-nav mb-2 mb-lg-0">

            <!-- VOLVER -->
            <li class="nav-item me-lg-2">
                <button onclick="window.location.href='index.html'" class="btn me-2 mt-2 mt-lg-0 text-light">
                    <i class="bi bi-arrow-left me-1"></i> Volver
                </button>
            </li>

            <!-- INICIAR SESIÓN -->
            <li class="nav-item mt-2 mt-lg-0 me-lg-3">
                <button onclick="window.location.href='login.html'" class="btn btn-light text-primary me-2"> Iniciar
                    Sesión
                </button>
            </li>

        </ul>
    </div>
</nav>

<body class="bg-gradient">
    <br>

    <div class="d-flex align-items-center justify-content-center min-vh-100">

        <div class="login-card shadow-lg">
            <div class="row g-0">

                <!-- LEFT IMAGE -->
                <div class="col-lg-6 left-panel d-none d-lg-flex align-items-center justify-content-center p-4">
                    <img src="/assets/img/signup.png" alt="Registro" class="illustration img-fluid">
                </div>

                <!-- RIGHT FORM -->
                <div class="col-lg-6 right-panel p-4 p-lg-5">

                    <div class="header-top d-flex align-items-center justify-content-center mb-4">
                        <div class="icon-bubbles">
                            <div class="bubble small"></div>
                            <div class="bubble medium"></div>
                        </div>
                    </div>

                    <img src="/assets/img-logos/logo.png" alt="Logo" style="width: 60%; margin:auto; display:block;">
                    <p class="text-center text-muted mb-4">Crea tu cuenta para comenzar</p>

                    <form id="signupForm" novalidate>

                        <!-- USUARIO -->
                        <div class="mb-3">
                            <label class="form-label small text-muted" style="height: 30px;">Usuario</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-0">
                                    <i class="bi bi-person-fill icon-left"></i>
                                </span>
                                <input type="text" id="username"
                                    class="form-control form-control-lg border-0 border-bottom ps-0 fs-6"
                                    placeholder="Tu nombre de usuario" required minlength="3">
                            </div>
                            <div id="userFeedback" class="form-feedback"></div>
                        </div>

                        <!-- CORREO -->
                        <div class="mb-3">
                            <label class="form-label small text-muted">Correo Electrónico</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-0">
                                    <i class="bi bi-envelope-fill icon-left"></i>
                                </span>
                                <input type="email" id="email"
                                    class="form-control form-control-lg border-0 border-bottom ps-0 fs-6"
                                    placeholder="correo@ejemplo.com" required>
                            </div>
                            <div id="emailFeedback" class="form-feedback"></div>
                        </div>

                        <!-- CONFIRMAR CORREO -->
                        <div class="mb-3">
                            <label class="form-label small text-muted">Confirmar Correo</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-0">
                                    <i class="bi bi-envelope-check-fill icon-left"></i>
                                </span>
                                <input type="email" id="email2"
                                    class="form-control form-control-lg border-0 border-bottom ps-0 fs-6"
                                    placeholder="Repite tu correo" required>
                            </div>
                            <div id="email2Feedback" class="form-feedback"></div>
                        </div>

                        <!-- CONTRASEÑA -->
                        <div class="mb-3">
                            <label class="form-label small text-muted">Contraseña</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-0">
                                    <i class="bi bi-lock-fill icon-left"></i>
                                </span>
                                <input id="password" type="password"
                                    class="form-control form-control-lg border-0 border-bottom ps-0 fs-6"
                                    placeholder="" minlength="8" required>
                            </div>
                            <div id="passwordFeedback" class="form-feedback"></div>
                        </div>

                        <!-- CONFIRMAR CONTRASEÑA -->
                        <div class="mb-3">
                            <label class="form-label small text-muted">Confirmar Contraseña</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-0">
                                    <i class="bi bi-lock-fill icon-left"></i>
                                </span>
                                <input id="password2" type="password"
                                    class="form-control form-control-lg border-0 border-bottom ps-0 fs-6"
                                    placeholder="Repite la contraseña" required>
                            </div>
                            <div id="password2Feedback" class="form-feedback"></div>
                        </div>

                        <div class="d-grid mt-4">
                            <button type="submit" class="btn btn-primary btn-lg btn-pill">Crear Cuenta</button>
                        </div>

                        <p class="text-center small mt-4 mb-0">
                            ¿Ya tienes cuenta? <a href="login.html" class="fw-semibold link-register">Inicia Sesión</a>
                        </p>

                    </form>

                    <div id="successBox" class="alert alert-success mt-4 d-none">
                        Cuenta creada con éxito. Redirigiendo...
                    </div>

                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/signup.js" defer></script>
</body>
<script>
    document.addEventListener("DOMContentLoaded", () => {

        const form = document.getElementById("signupForm");

        const username = document.getElementById("username");
        const email = document.getElementById("email");
        const email2 = document.getElementById("email2");
        const pass = document.getElementById("password");
        const pass2 = document.getElementById("password2");

        const fbUser = document.getElementById("userFeedback");
        const fbEmail = document.getElementById("emailFeedback");
        const fbEmail2 = document.getElementById("email2Feedback");
        const fbPass = document.getElementById("passwordFeedback");
        const fbPass2 = document.getElementById("password2Feedback");

        // Validar usuario
        username.addEventListener("input", () => {
            if (username.value.length < 3) {
                fbUser.textContent = "El usuario debe tener mínimo 3 caracteres.";
                username.classList.add("is-invalid");
            } else {
                fbUser.textContent = "";
                username.classList.remove("is-invalid");
            }
        });

        // Validar correo
        email.addEventListener("input", () => {
            if (!email.checkValidity()) {
                fbEmail.textContent = "Correo inválido.";
                email.classList.add("is-invalid");
            } else {
                fbEmail.textContent = "";
                email.classList.remove("is-invalid");
            }
        });

        // Correo repetido
        email2.addEventListener("input", () => {
            if (email2.value !== email.value) {
                fbEmail2.textContent = "Los correos no coinciden.";
                email2.classList.add("is-invalid");
            } else {
                fbEmail2.textContent = "";
                email2.classList.remove("is-invalid");
            }
        });

        // Contraseña
        pass.addEventListener("input", () => {
            if (pass.value.length < 8) {
                fbPass.textContent = "La contraseña debe tener mínimo 8 caracteres.";
                pass.classList.add("is-invalid");
            } else {
                fbPass.textContent = "";
                pass.classList.remove("is-invalid");
            }
        });

        // Confirmar contraseña
        pass2.addEventListener("input", () => {
            if (pass2.value !== pass.value) {
                fbPass2.textContent = "Las contraseñas no coinciden.";
                pass2.classList.add("is-invalid");
            } else {
                fbPass2.textContent = "";
                pass2.classList.remove("is-invalid");
            }
        });

        // ENVIAR FORMULARIO
        form.addEventListener("submit", (e) => {
            e.preventDefault();

            if (
                username.value.length >= 3 &&
                email.value === email2.value &&
                pass.value === pass2.value &&
                pass.value.length >= 8
            ) {
                document.getElementById("successBox").classList.remove("d-none");

                setTimeout(() => {
                    window.location.href = "login.html";
                }, 2000);
            }
        });

    });

</script>

</html>